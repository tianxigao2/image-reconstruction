+ cd /pylon5/ac5610p/janegao/image-reconstruction-2019/code/
+ python main.py
2019-06-24 00:13:44.326057: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-06-24 00:13:44.344168: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2294735000 Hz
2019-06-24 00:13:44.354215: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x5607e699d930 executing computations on platform Host. Devices:
2019-06-24 00:13:44.354322: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
OMP: Info #212: KMP_AFFINITY: decoding x2APIC ids.
OMP: Info #210: KMP_AFFINITY: Affinity capable, using global cpuid leaf 11 info
OMP: Info #154: KMP_AFFINITY: Initial OS proc set respected: 0-27
OMP: Info #156: KMP_AFFINITY: 28 available OS procs
OMP: Info #157: KMP_AFFINITY: Uniform topology
OMP: Info #179: KMP_AFFINITY: 2 packages x 14 cores/pkg x 1 threads/core (28 total cores)
OMP: Info #214: KMP_AFFINITY: OS proc to physical thread map:
OMP: Info #171: KMP_AFFINITY: OS proc 0 maps to package 0 core 0 
OMP: Info #171: KMP_AFFINITY: OS proc 14 maps to package 0 core 1 
OMP: Info #171: KMP_AFFINITY: OS proc 1 maps to package 0 core 2 
OMP: Info #171: KMP_AFFINITY: OS proc 15 maps to package 0 core 3 
OMP: Info #171: KMP_AFFINITY: OS proc 2 maps to package 0 core 4 
OMP: Info #171: KMP_AFFINITY: OS proc 16 maps to package 0 core 5 
OMP: Info #171: KMP_AFFINITY: OS proc 3 maps to package 0 core 6 
OMP: Info #171: KMP_AFFINITY: OS proc 17 maps to package 0 core 8 
OMP: Info #171: KMP_AFFINITY: OS proc 4 maps to package 0 core 9 
OMP: Info #171: KMP_AFFINITY: OS proc 18 maps to package 0 core 10 
OMP: Info #171: KMP_AFFINITY: OS proc 5 maps to package 0 core 11 
OMP: Info #171: KMP_AFFINITY: OS proc 19 maps to package 0 core 12 
OMP: Info #171: KMP_AFFINITY: OS proc 6 maps to package 0 core 13 
OMP: Info #171: KMP_AFFINITY: OS proc 20 maps to package 0 core 14 
OMP: Info #171: KMP_AFFINITY: OS proc 7 maps to package 1 core 0 
OMP: Info #171: KMP_AFFINITY: OS proc 21 maps to package 1 core 1 
OMP: Info #171: KMP_AFFINITY: OS proc 8 maps to package 1 core 2 
OMP: Info #171: KMP_AFFINITY: OS proc 22 maps to package 1 core 3 
OMP: Info #171: KMP_AFFINITY: OS proc 9 maps to package 1 core 4 
OMP: Info #171: KMP_AFFINITY: OS proc 23 maps to package 1 core 5 
OMP: Info #171: KMP_AFFINITY: OS proc 10 maps to package 1 core 6 
OMP: Info #171: KMP_AFFINITY: OS proc 24 maps to package 1 core 8 
OMP: Info #171: KMP_AFFINITY: OS proc 11 maps to package 1 core 9 
OMP: Info #171: KMP_AFFINITY: OS proc 25 maps to package 1 core 10 
OMP: Info #171: KMP_AFFINITY: OS proc 12 maps to package 1 core 11 
OMP: Info #171: KMP_AFFINITY: OS proc 26 maps to package 1 core 12 
OMP: Info #171: KMP_AFFINITY: OS proc 13 maps to package 1 core 13 
OMP: Info #171: KMP_AFFINITY: OS proc 27 maps to package 1 core 14 
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23520 thread 0 bound to OS proc set 0
2019-06-24 00:13:44.357126: I tensorflow/core/common_runtime/process_util.cc:71] Creating new thread pool with default inter op setting: 2. Tune using inter_op_parallelism_threads for best performance.
Using TensorFlow backend.
WARNING:tensorflow:From /home/janegao/.conda/envs/env/lib/python3.7/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /home/janegao/.conda/envs/env/lib/python3.7/site-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23594 thread 1 bound to OS proc set 7
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23650 thread 2 bound to OS proc set 14
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23651 thread 3 bound to OS proc set 21
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23652 thread 4 bound to OS proc set 1
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23653 thread 5 bound to OS proc set 8
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23654 thread 6 bound to OS proc set 15
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23657 thread 9 bound to OS proc set 9
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23655 thread 7 bound to OS proc set 22
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23656 thread 8 bound to OS proc set 2
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23658 thread 10 bound to OS proc set 16
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23659 thread 11 bound to OS proc set 23
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23660 thread 12 bound to OS proc set 3
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23661 thread 13 bound to OS proc set 10
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23662 thread 14 bound to OS proc set 17
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23663 thread 15 bound to OS proc set 24
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23664 thread 16 bound to OS proc set 4
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23665 thread 17 bound to OS proc set 11
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23666 thread 18 bound to OS proc set 18
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23667 thread 19 bound to OS proc set 25
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23668 thread 20 bound to OS proc set 5
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23669 thread 21 bound to OS proc set 12
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23670 thread 22 bound to OS proc set 19
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23671 thread 23 bound to OS proc set 26
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23672 thread 24 bound to OS proc set 6
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23673 thread 25 bound to OS proc set 13
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23674 thread 26 bound to OS proc set 20
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23675 thread 27 bound to OS proc set 27
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23676 thread 28 bound to OS proc set 0
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23595 thread 29 bound to OS proc set 7
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23677 thread 30 bound to OS proc set 14
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23678 thread 31 bound to OS proc set 21
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23679 thread 32 bound to OS proc set 1
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23680 thread 33 bound to OS proc set 8
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23681 thread 34 bound to OS proc set 15
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23682 thread 35 bound to OS proc set 22
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23683 thread 36 bound to OS proc set 2
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23684 thread 37 bound to OS proc set 9
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23685 thread 38 bound to OS proc set 16
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23686 thread 39 bound to OS proc set 23
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23687 thread 40 bound to OS proc set 3
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23688 thread 41 bound to OS proc set 10
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23689 thread 42 bound to OS proc set 17
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23690 thread 43 bound to OS proc set 24
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23691 thread 44 bound to OS proc set 4
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23692 thread 45 bound to OS proc set 11
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23694 thread 47 bound to OS proc set 25
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23693 thread 46 bound to OS proc set 18
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23695 thread 48 bound to OS proc set 5
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23696 thread 49 bound to OS proc set 12
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23698 thread 51 bound to OS proc set 26
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23697 thread 50 bound to OS proc set 19
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23699 thread 52 bound to OS proc set 6
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23700 thread 53 bound to OS proc set 13
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23701 thread 54 bound to OS proc set 20
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23702 thread 55 bound to OS proc set 27
OMP: Info #250: KMP_AFFINITY: pid 23520 tid 23703 thread 56 bound to OS proc set 0
index for selecting frames
range(0, 2000, 2)
index for selecting frames
range(0, 2000, 2)
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
conv2d_1 (Conv2D)            (None, 128, 128, 64)      5248      
_________________________________________________________________
conv2d_2 (Conv2D)            (None, 128, 128, 32)      2080      
_________________________________________________________________
conv2d_3 (Conv2D)            (None, 128, 128, 1)       801       
=================================================================
Total params: 8,129
Trainable params: 8,129
Non-trainable params: 0
_________________________________________________________________
None
Train on 640 samples, validate on 160 samples
Epoch 1/1000
 - 57s - loss: 668.3575 - ssim_for2d: 0.8224 - psnr_for2d: 20.3742 - val_loss: 432.9256 - val_ssim_for2d: 0.8808 - val_psnr_for2d: 21.7678
Epoch 2/1000
 - 57s - loss: 329.8375 - ssim_for2d: 0.8894 - psnr_for2d: 22.9782 - val_loss: 334.4919 - val_ssim_for2d: 0.8753 - val_psnr_for2d: 22.8948
Epoch 3/1000
 - 59s - loss: 244.6329 - ssim_for2d: 0.8955 - psnr_for2d: 24.2731 - val_loss: 302.9407 - val_ssim_for2d: 0.8829 - val_psnr_for2d: 23.3345
Epoch 4/1000
 - 55s - loss: 202.2838 - ssim_for2d: 0.9069 - psnr_for2d: 25.1050 - val_loss: 272.4038 - val_ssim_for2d: 0.8931 - val_psnr_for2d: 23.8056
Epoch 5/1000
 - 55s - loss: 174.1042 - ssim_for2d: 0.9145 - psnr_for2d: 25.7626 - val_loss: 251.6486 - val_ssim_for2d: 0.8980 - val_psnr_for2d: 24.1625
Epoch 6/1000
 - 56s - loss: 154.6111 - ssim_for2d: 0.9189 - psnr_for2d: 26.2829 - val_loss: 244.8737 - val_ssim_for2d: 0.9011 - val_psnr_for2d: 24.2877
Epoch 7/1000
 - 55s - loss: 139.4877 - ssim_for2d: 0.9230 - psnr_for2d: 26.7365 - val_loss: 237.5545 - val_ssim_for2d: 0.9030 - val_psnr_for2d: 24.4250
Epoch 8/1000
 - 55s - loss: 128.1359 - ssim_for2d: 0.9258 - psnr_for2d: 27.1100 - val_loss: 217.9759 - val_ssim_for2d: 0.9071 - val_psnr_for2d: 24.8182
Epoch 9/1000
 - 55s - loss: 119.1896 - ssim_for2d: 0.9279 - psnr_for2d: 27.4279 - val_loss: 207.8117 - val_ssim_for2d: 0.9081 - val_psnr_for2d: 25.0446
Epoch 10/1000
 - 55s - loss: 111.8980 - ssim_for2d: 0.9298 - psnr_for2d: 27.7050 - val_loss: 222.6197 - val_ssim_for2d: 0.9066 - val_psnr_for2d: 24.7300
Epoch 11/1000
 - 55s - loss: 106.9007 - ssim_for2d: 0.9312 - psnr_for2d: 27.9051 - val_loss: 212.1711 - val_ssim_for2d: 0.9092 - val_psnr_for2d: 24.9552
Epoch 12/1000
 - 55s - loss: 101.6842 - ssim_for2d: 0.9329 - psnr_for2d: 28.1249 - val_loss: 201.8795 - val_ssim_for2d: 0.9122 - val_psnr_for2d: 25.1773
Epoch 13/1000
 - 55s - loss: 97.6754 - ssim_for2d: 0.9343 - psnr_for2d: 28.3048 - val_loss: 202.1535 - val_ssim_for2d: 0.9136 - val_psnr_for2d: 25.1822
Epoch 14/1000
 - 55s - loss: 94.8676 - ssim_for2d: 0.9355 - psnr_for2d: 28.4302 - val_loss: 192.1063 - val_ssim_for2d: 0.9154 - val_psnr_for2d: 25.4104
Epoch 15/1000
 - 55s - loss: 92.3471 - ssim_for2d: 0.9366 - psnr_for2d: 28.5471 - val_loss: 199.7344 - val_ssim_for2d: 0.9146 - val_psnr_for2d: 25.2366
Epoch 16/1000
 - 55s - loss: 89.6978 - ssim_for2d: 0.9374 - psnr_for2d: 28.6764 - val_loss: 188.8573 - val_ssim_for2d: 0.9161 - val_psnr_for2d: 25.5000
Epoch 17/1000
 - 55s - loss: 87.4162 - ssim_for2d: 0.9384 - psnr_for2d: 28.7887 - val_loss: 196.4835 - val_ssim_for2d: 0.9158 - val_psnr_for2d: 25.3114
Epoch 18/1000
 - 55s - loss: 84.8130 - ssim_for2d: 0.9392 - psnr_for2d: 28.9206 - val_loss: 189.7363 - val_ssim_for2d: 0.9184 - val_psnr_for2d: 25.4748
Epoch 19/1000
 - 55s - loss: 83.5316 - ssim_for2d: 0.9399 - psnr_for2d: 28.9844 - val_loss: 193.7217 - val_ssim_for2d: 0.9176 - val_psnr_for2d: 25.3797
slurmstepd: error: *** JOB 5913991 ON r349 CANCELLED AT 2019-06-24T05:12:42 DUE TO TIME LIMIT ***
